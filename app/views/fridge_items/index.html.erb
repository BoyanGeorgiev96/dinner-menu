<p id="notice"><%= notice %></p>

<%= form_with(model: @fridge_item, id: "new-fridge-item", local: false) do |form| %>
  <div class="form-search">
    <%= form.label :name %>
    <input type="search" placeholder="Add ingredients separated by commas..." data-behavior="autocomplete" id="fridge_item_textbox" name="fridge_item[ingredient_id]">
    <%= form.submit "Add to fridge", class: "btn btn-success" %>
  </div>
<% end %>

<h1>Fridge Items</h1>

<table>
  <thead>
    <tr>
      <th>Item</th>
      <th colspan="3"></th>
    </tr>
  </thead>
  <tbody id="fridge_items_table_body">
    <% @fridge_items.each do |fridge_item| %>
      <tr id="fridge_item_<%=fridge_item.id %>">
        <td><%= @ingredients[fridge_item.ingredient_id][0][:name].capitalize %></td>
        <%= render 'add_quantity', fridge_item: fridge_item %>
      </tr>
    <% end %>
  </tbody>
</table>

<h2>Available Recipes</h2>

<table>
  <thead>
  <tr>
    <th>Recipe Name</th>
    <th>For</th>
    <th>Link</th>
  </tr>
  </thead>
<% @available_recipes.each do |recipe| %>

    <tr>
      <td><%=recipe[:name] %></td>
      <td><%=recipe.people_quantity %></td>
      <td><%= link_to 'Show', recipe_path(recipe) %></td>
    </tr>
<% end %>
</table>
<%= console %>